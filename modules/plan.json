{"format_version":"1.2","terraform_version":"1.8.2-dev","variables":{"NodePort_httpport":{"value":"30080"},"NodePort_httpsport":{"value":"30443"},"laravel_replicas":{"value":"1"},"minio_access_key":{"value":"my_minio_access_key_dev"},"minio_secret_key":{"value":"my_minio_secret_key_dev"},"minio_user":{"value":"dev_user"},"minio_user_password":{"value":"dev_password"},"mysql_db_name":{"value":"dev_db"},"mysql_root_password":{"value":"devdev1234"},"mysql_username":{"value":"user1"},"mysql_username_password":{"value":"dev1234"},"namespace_name":{"value":"dev"}},"planned_values":{"root_module":{"resources":[{"address":"kubernetes_config_map.nginx_config","mode":"managed","type":"kubernetes_config_map","name":"nginx_config","provider_name":"registry.terraform.io/hashicorp/kubernetes","schema_version":0,"values":{"binary_data":null,"data":{"default.conf":"# nginx configuration\n\nupstream allworker {\n    server php:9000;\n}\n\nserver {\n\n    listen 80 default_server;\n    listen [::]:80 default_server;\n\n    server_name localhost;\n\n    root /var/www/public;\n    index index.php index.html;\n\n    location / {\n        try_files $uri /index.php?$args;\n    }\n\n    location ~ \\.php$ {\n        #fastcgi_keep_conn on;\n        fastcgi_pass   allworker;\n        fastcgi_index  index.php;\n        fastcgi_param  SCRIPT_FILENAME $document_root$fastcgi_script_name;\n        include        fastcgi_params;\n    }\n}"},"immutable":null,"metadata":[{"annotations":null,"generate_name":null,"labels":{"name":"nginx-config"},"name":"nginx-config","namespace":"dev"}]},"sensitive_values":{"data":{},"metadata":[{"labels":{}}]}},{"address":"kubernetes_deployment.laravel","mode":"managed","type":"kubernetes_deployment","name":"laravel","provider_name":"registry.terraform.io/hashicorp/kubernetes","schema_version":1,"values":{"metadata":[{"annotations":null,"generate_name":null,"labels":null,"name":"laravel","namespace":"dev"}],"spec":[{"min_ready_seconds":0,"paused":false,"progress_deadline_seconds":600,"replicas":"1","revision_history_limit":10,"selector":[{"match_expressions":[],"match_labels":{"app":"laravel"}}],"template":[{"metadata":[{"annotations":null,"generate_name":null,"labels":{"app":"laravel"},"namespace":null}],"spec":[{"active_deadline_seconds":null,"affinity":[],"automount_service_account_token":true,"container":[{"args":null,"command":null,"env":[{"name":"APP_ENV","value":"production","value_from":[]},{"name":"DB_CONNECTION","value":"mysql","value_from":[]},{"name":"DB_HOST","value":"mysql-service","value_from":[]},{"name":"DB_PORT","value":"3306","value_from":[]},{"name":"DB_DATABASE","value":"dev_db","value_from":[]},{"name":"DB_USERNAME","value":"user1","value_from":[]},{"name":"DB_PASSWORD","value":"devdev1234","value_from":[]},{"name":"MINIO_ENDPOINT","value":"http://minio-service:9000","value_from":[]},{"name":"MINIO_ACCESS_KEY","value":"my_minio_access_key_dev","value_from":[]},{"name":"MINIO_SECRET_KEY","value":"my_minio_secret_key_dev","value_from":[]}],"env_from":[],"image":"lerufic/laravel:latest","lifecycle":[],"liveness_probe":[],"name":"laravel","port":[{"container_port":9000,"host_ip":null,"host_port":null,"name":"port1","protocol":"TCP"}],"readiness_probe":[],"security_context":[],"startup_probe":[],"stdin":false,"stdin_once":false,"termination_message_path":"/dev/termination-log","tty":false,"volume_mount":[],"working_dir":null}],"dns_config":[],"dns_policy":"ClusterFirst","enable_service_links":true,"host_aliases":[],"host_ipc":false,"host_network":false,"host_pid":false,"init_container":[],"node_selector":null,"os":[],"priority_class_name":null,"restart_policy":"Always","runtime_class_name":null,"security_context":[],"share_process_namespace":false,"subdomain":null,"termination_grace_period_seconds":30,"toleration":[],"topology_spread_constraint":[],"volume":[]}]}]}],"timeouts":null,"wait_for_rollout":true},"sensitive_values":{"metadata":[{}],"spec":[{"selector":[{"match_expressions":[],"match_labels":{}}],"strategy":[],"template":[{"metadata":[{"labels":{}}],"spec":[{"affinity":[],"container":[{"env":[{"value_from":[]},{"value_from":[]},{"value_from":[]},{"value_from":[]},{"value_from":[]},{"value_from":[]},{"value_from":[]},{"value_from":[]},{"value_from":[]},{"value_from":[]}],"env_from":[],"lifecycle":[],"liveness_probe":[],"port":[{}],"readiness_probe":[],"resources":[],"security_context":[],"startup_probe":[],"volume_mount":[]}],"dns_config":[],"host_aliases":[],"image_pull_secrets":[],"init_container":[],"os":[],"readiness_gate":[],"security_context":[],"toleration":[],"topology_spread_constraint":[],"volume":[]}]}]}]}},{"address":"kubernetes_deployment.minio","mode":"managed","type":"kubernetes_deployment","name":"minio","provider_name":"registry.terraform.io/hashicorp/kubernetes","schema_version":1,"values":{"metadata":[{"annotations":null,"generate_name":null,"labels":null,"name":"minio","namespace":"dev"}],"spec":[{"min_ready_seconds":0,"paused":false,"progress_deadline_seconds":600,"replicas":"1","revision_history_limit":10,"selector":[{"match_expressions":[],"match_labels":{"app":"minio"}}],"template":[{"metadata":[{"annotations":null,"generate_name":null,"labels":{"app":"minio"},"namespace":null}],"spec":[{"active_deadline_seconds":null,"affinity":[],"automount_service_account_token":true,"container":[{"args":["server","/data"],"command":null,"env":[{"name":"MINIO_ACCESS_KEY","value":"var.minio_access_key","value_from":[]},{"name":"MINIO_SECRET_KEY","value":"var.minio_secret_key","value_from":[]},{"name":"MINIO_ROOT_USER","value":"var.minio_user","value_from":[]},{"name":"MINIO_ROOT_PASSWORD","value":"var.minio_user_password","value_from":[]}],"env_from":[],"image":"minio/minio:latest","lifecycle":[],"liveness_probe":[],"name":"minio","port":[{"container_port":9000,"host_ip":null,"host_port":null,"name":null,"protocol":"TCP"}],"readiness_probe":[],"security_context":[],"startup_probe":[],"stdin":false,"stdin_once":false,"termination_message_path":"/dev/termination-log","tty":false,"volume_mount":[{"mount_path":"/data","mount_propagation":"None","name":"minio-data","read_only":false,"sub_path":null}],"working_dir":null}],"dns_config":[],"dns_policy":"ClusterFirst","enable_service_links":true,"host_aliases":[],"host_ipc":false,"host_network":false,"host_pid":false,"init_container":[],"node_selector":null,"os":[],"priority_class_name":null,"restart_policy":"Always","runtime_class_name":null,"security_context":[],"share_process_namespace":false,"subdomain":null,"termination_grace_period_seconds":30,"toleration":[],"topology_spread_constraint":[],"volume":[{"aws_elastic_block_store":[],"azure_disk":[],"azure_file":[],"ceph_fs":[],"cinder":[],"config_map":[],"csi":[],"downward_api":[],"empty_dir":[],"ephemeral":[],"fc":[],"flex_volume":[],"flocker":[],"gce_persistent_disk":[],"git_repo":[],"glusterfs":[],"host_path":[],"iscsi":[],"local":[],"name":"minio-data","nfs":[],"persistent_volume_claim":[{"claim_name":"minio-pvc","read_only":false}],"photon_persistent_disk":[],"projected":[],"quobyte":[],"rbd":[],"secret":[],"vsphere_volume":[]}]}]}]}],"timeouts":null,"wait_for_rollout":true},"sensitive_values":{"metadata":[{}],"spec":[{"selector":[{"match_expressions":[],"match_labels":{}}],"strategy":[],"template":[{"metadata":[{"labels":{}}],"spec":[{"affinity":[],"container":[{"args":[false,false],"env":[{"value_from":[]},{"value_from":[]},{"value_from":[]},{"value_from":[]}],"env_from":[],"lifecycle":[],"liveness_probe":[],"port":[{}],"readiness_probe":[],"resources":[],"security_context":[],"startup_probe":[],"volume_mount":[{}]}],"dns_config":[],"host_aliases":[],"image_pull_secrets":[],"init_container":[],"os":[],"readiness_gate":[],"security_context":[],"toleration":[],"topology_spread_constraint":[],"volume":[{"aws_elastic_block_store":[],"azure_disk":[],"azure_file":[],"ceph_fs":[],"cinder":[],"config_map":[],"csi":[],"downward_api":[],"empty_dir":[],"ephemeral":[],"fc":[],"flex_volume":[],"flocker":[],"gce_persistent_disk":[],"git_repo":[],"glusterfs":[],"host_path":[],"iscsi":[],"local":[],"nfs":[],"persistent_volume_claim":[{}],"photon_persistent_disk":[],"projected":[],"quobyte":[],"rbd":[],"secret":[],"vsphere_volume":[]}]}]}]}]}},{"address":"kubernetes_deployment.mysql","mode":"managed","type":"kubernetes_deployment","name":"mysql","provider_name":"registry.terraform.io/hashicorp/kubernetes","schema_version":1,"values":{"metadata":[{"annotations":null,"generate_name":null,"labels":null,"name":"mysql","namespace":"dev"}],"spec":[{"min_ready_seconds":0,"paused":false,"progress_deadline_seconds":600,"replicas":"1","revision_history_limit":10,"selector":[{"match_expressions":[],"match_labels":{"app":"mysql"}}],"template":[{"metadata":[{"annotations":null,"generate_name":null,"labels":{"app":"mysql"},"namespace":null}],"spec":[{"active_deadline_seconds":null,"affinity":[],"automount_service_account_token":true,"container":[{"args":null,"command":null,"env":[{"name":"MYSQL_ROOT_PASSWORD","value":"devdev1234","value_from":[]},{"name":"MYSQL_DATABASE","value":"dev_db","value_from":[]},{"name":"DB_USERNAME","value":"user1","value_from":[]},{"name":"DB_PASSWORD","value":"devdev1234","value_from":[]}],"env_from":[],"image":"mysql:latest","lifecycle":[],"liveness_probe":[],"name":"mysql","port":[{"container_port":3306,"host_ip":null,"host_port":null,"name":null,"protocol":"TCP"}],"readiness_probe":[],"security_context":[],"startup_probe":[],"stdin":false,"stdin_once":false,"termination_message_path":"/dev/termination-log","tty":false,"volume_mount":[{"mount_path":"/var/lib/mysql","mount_propagation":"None","name":"mysql-data","read_only":false,"sub_path":null}],"working_dir":null}],"dns_config":[],"dns_policy":"ClusterFirst","enable_service_links":true,"host_aliases":[],"host_ipc":false,"host_network":false,"host_pid":false,"init_container":[],"node_selector":null,"os":[],"priority_class_name":null,"restart_policy":"Always","runtime_class_name":null,"security_context":[],"share_process_namespace":false,"subdomain":null,"termination_grace_period_seconds":30,"toleration":[],"topology_spread_constraint":[],"volume":[{"aws_elastic_block_store":[],"azure_disk":[],"azure_file":[],"ceph_fs":[],"cinder":[],"config_map":[],"csi":[],"downward_api":[],"empty_dir":[],"ephemeral":[],"fc":[],"flex_volume":[],"flocker":[],"gce_persistent_disk":[],"git_repo":[],"glusterfs":[],"host_path":[],"iscsi":[],"local":[],"name":"mysql-data","nfs":[],"persistent_volume_claim":[{"claim_name":"mysql-pvc","read_only":false}],"photon_persistent_disk":[],"projected":[],"quobyte":[],"rbd":[],"secret":[],"vsphere_volume":[]}]}]}]}],"timeouts":null,"wait_for_rollout":true},"sensitive_values":{"metadata":[{}],"spec":[{"selector":[{"match_expressions":[],"match_labels":{}}],"strategy":[],"template":[{"metadata":[{"labels":{}}],"spec":[{"affinity":[],"container":[{"env":[{"value_from":[]},{"value_from":[]},{"value_from":[]},{"value_from":[]}],"env_from":[],"lifecycle":[],"liveness_probe":[],"port":[{}],"readiness_probe":[],"resources":[],"security_context":[],"startup_probe":[],"volume_mount":[{}]}],"dns_config":[],"host_aliases":[],"image_pull_secrets":[],"init_container":[],"os":[],"readiness_gate":[],"security_context":[],"toleration":[],"topology_spread_constraint":[],"volume":[{"aws_elastic_block_store":[],"azure_disk":[],"azure_file":[],"ceph_fs":[],"cinder":[],"config_map":[],"csi":[],"downward_api":[],"empty_dir":[],"ephemeral":[],"fc":[],"flex_volume":[],"flocker":[],"gce_persistent_disk":[],"git_repo":[],"glusterfs":[],"host_path":[],"iscsi":[],"local":[],"nfs":[],"persistent_volume_claim":[{}],"photon_persistent_disk":[],"projected":[],"quobyte":[],"rbd":[],"secret":[],"vsphere_volume":[]}]}]}]}]}},{"address":"kubernetes_deployment.nginx","mode":"managed","type":"kubernetes_deployment","name":"nginx","provider_name":"registry.terraform.io/hashicorp/kubernetes","schema_version":1,"values":{"metadata":[{"annotations":null,"generate_name":null,"labels":null,"name":"nginx","namespace":"dev"}],"spec":[{"min_ready_seconds":0,"paused":false,"progress_deadline_seconds":600,"replicas":"1","revision_history_limit":10,"selector":[{"match_expressions":[],"match_labels":{"app":"nginx"}}],"template":[{"metadata":[{"annotations":null,"generate_name":null,"labels":{"app":"nginx"},"namespace":null}],"spec":[{"active_deadline_seconds":null,"affinity":[],"automount_service_account_token":true,"container":[{"args":null,"command":null,"env":[],"env_from":[],"image":"nginx:latest","lifecycle":[],"liveness_probe":[],"name":"nginx","port":[{"container_port":80,"host_ip":null,"host_port":null,"name":null,"protocol":"TCP"}],"readiness_probe":[],"security_context":[],"startup_probe":[],"stdin":false,"stdin_once":false,"termination_message_path":"/dev/termination-log","tty":false,"volume_mount":[],"working_dir":null}],"dns_config":[],"dns_policy":"ClusterFirst","enable_service_links":true,"host_aliases":[],"host_ipc":false,"host_network":false,"host_pid":false,"init_container":[],"node_selector":null,"os":[],"priority_class_name":null,"restart_policy":"Always","runtime_class_name":null,"security_context":[],"share_process_namespace":false,"subdomain":null,"termination_grace_period_seconds":30,"toleration":[],"topology_spread_constraint":[],"volume":[{"aws_elastic_block_store":[],"azure_disk":[],"azure_file":[],"ceph_fs":[],"cinder":[],"config_map":[{"default_mode":"0644","items":[],"name":"nginx-config","optional":null}],"csi":[],"downward_api":[],"empty_dir":[],"ephemeral":[],"fc":[],"flex_volume":[],"flocker":[],"gce_persistent_disk":[],"git_repo":[],"glusterfs":[],"host_path":[],"iscsi":[],"local":[],"name":"nginx-volume","nfs":[],"persistent_volume_claim":[],"photon_persistent_disk":[],"projected":[],"quobyte":[],"rbd":[],"secret":[],"vsphere_volume":[]}]}]}]}],"timeouts":null,"wait_for_rollout":true},"sensitive_values":{"metadata":[{}],"spec":[{"selector":[{"match_expressions":[],"match_labels":{}}],"strategy":[],"template":[{"metadata":[{"labels":{}}],"spec":[{"affinity":[],"container":[{"env":[],"env_from":[],"lifecycle":[],"liveness_probe":[],"port":[{}],"readiness_probe":[],"resources":[],"security_context":[],"startup_probe":[],"volume_mount":[]}],"dns_config":[],"host_aliases":[],"image_pull_secrets":[],"init_container":[],"os":[],"readiness_gate":[],"security_context":[],"toleration":[],"topology_spread_constraint":[],"volume":[{"aws_elastic_block_store":[],"azure_disk":[],"azure_file":[],"ceph_fs":[],"cinder":[],"config_map":[{"items":[]}],"csi":[],"downward_api":[],"empty_dir":[],"ephemeral":[],"fc":[],"flex_volume":[],"flocker":[],"gce_persistent_disk":[],"git_repo":[],"glusterfs":[],"host_path":[],"iscsi":[],"local":[],"nfs":[],"persistent_volume_claim":[],"photon_persistent_disk":[],"projected":[],"quobyte":[],"rbd":[],"secret":[],"vsphere_volume":[]}]}]}]}]}},{"address":"kubernetes_namespace.namespace","mode":"managed","type":"kubernetes_namespace","name":"namespace","provider_name":"registry.terraform.io/hashicorp/kubernetes","schema_version":0,"values":{"metadata":[{"annotations":null,"generate_name":null,"labels":null,"name":"dev"}],"timeouts":null,"wait_for_default_service_account":false},"sensitive_values":{"metadata":[{}]}},{"address":"kubernetes_persistent_volume_claim.minio_data","mode":"managed","type":"kubernetes_persistent_volume_claim","name":"minio_data","provider_name":"registry.terraform.io/hashicorp/kubernetes","schema_version":0,"values":{"metadata":[{"annotations":null,"generate_name":null,"labels":null,"name":"minio-pvc","namespace":"dev"}],"spec":[{"access_modes":["ReadWriteMany"],"resources":[{"limits":null,"requests":{"storage":"1Gi"}}],"selector":[]}],"timeouts":null,"wait_until_bound":true},"sensitive_values":{"metadata":[{}],"spec":[{"access_modes":[false],"resources":[{"requests":{}}],"selector":[]}]}},{"address":"kubernetes_persistent_volume_claim.mysql_data","mode":"managed","type":"kubernetes_persistent_volume_claim","name":"mysql_data","provider_name":"registry.terraform.io/hashicorp/kubernetes","schema_version":0,"values":{"metadata":[{"annotations":null,"generate_name":null,"labels":null,"name":"mysql-pvc","namespace":"dev"}],"spec":[{"access_modes":["ReadWriteMany"],"resources":[{"limits":null,"requests":{"storage":"1Gi"}}],"selector":[]}],"timeouts":null,"wait_until_bound":true},"sensitive_values":{"metadata":[{}],"spec":[{"access_modes":[false],"resources":[{"requests":{}}],"selector":[]}]}},{"address":"kubernetes_service.mysql","mode":"managed","type":"kubernetes_service","name":"mysql","provider_name":"registry.terraform.io/hashicorp/kubernetes","schema_version":1,"values":{"metadata":[{"annotations":null,"generate_name":null,"labels":null,"name":"mysql-service","namespace":"dev"}],"spec":[{"allocate_load_balancer_node_ports":true,"external_ips":null,"external_name":null,"load_balancer_class":null,"load_balancer_ip":null,"load_balancer_source_ranges":null,"port":[{"app_protocol":null,"name":null,"port":3306,"protocol":"TCP","target_port":"3306"}],"publish_not_ready_addresses":false,"selector":{"app":"mysql"},"session_affinity":"None","type":"ClusterIP"}],"timeouts":null,"wait_for_load_balancer":true},"sensitive_values":{"metadata":[{}],"spec":[{"cluster_ips":[],"ip_families":[],"port":[{}],"selector":{},"session_affinity_config":[]}],"status":[]}},{"address":"kubernetes_service.nginx","mode":"managed","type":"kubernetes_service","name":"nginx","provider_name":"registry.terraform.io/hashicorp/kubernetes","schema_version":1,"values":{"metadata":[{"annotations":null,"generate_name":null,"labels":{"app":"nginx"},"name":"nginx","namespace":"dev"}],"spec":[{"allocate_load_balancer_node_ports":true,"external_ips":null,"external_name":null,"load_balancer_class":null,"load_balancer_ip":null,"load_balancer_source_ranges":null,"port":[{"app_protocol":null,"name":"httpport","node_port":30080,"port":80,"protocol":"TCP"},{"app_protocol":null,"name":"httpsport","node_port":30443,"port":443,"protocol":"TCP"}],"publish_not_ready_addresses":false,"selector":{"app":"nginx"},"session_affinity":"None","type":"NodePort"}],"timeouts":null,"wait_for_load_balancer":true},"sensitive_values":{"metadata":[{"labels":{}}],"spec":[{"cluster_ips":[],"ip_families":[],"port":[{},{}],"selector":{},"session_affinity_config":[]}],"status":[]}},{"address":"kubernetes_service.php","mode":"managed","type":"kubernetes_service","name":"php","provider_name":"registry.terraform.io/hashicorp/kubernetes","schema_version":1,"values":{"metadata":[{"annotations":null,"generate_name":null,"labels":{"app":"laravel"},"name":"laravel","namespace":"dev"}],"spec":[{"allocate_load_balancer_node_ports":true,"external_ips":null,"external_name":null,"load_balancer_class":null,"load_balancer_ip":null,"load_balancer_source_ranges":null,"port":[{"app_protocol":null,"name":"phpfpm","port":9000,"protocol":"TCP"}],"publish_not_ready_addresses":false,"selector":{"app":"laravel"},"session_affinity":"None","type":"ClusterIP"}],"timeouts":null,"wait_for_load_balancer":true},"sensitive_values":{"metadata":[{"labels":{}}],"spec":[{"cluster_ips":[],"ip_families":[],"port":[{}],"selector":{},"session_affinity_config":[]}],"status":[]}}]}},"resource_changes":[{"address":"kubernetes_config_map.nginx_config","mode":"managed","type":"kubernetes_config_map","name":"nginx_config","provider_name":"registry.terraform.io/hashicorp/kubernetes","change":{"actions":["create"],"before":null,"after":{"binary_data":null,"data":{"default.conf":"# nginx configuration\n\nupstream allworker {\n    server php:9000;\n}\n\nserver {\n\n    listen 80 default_server;\n    listen [::]:80 default_server;\n\n    server_name localhost;\n\n    root /var/www/public;\n    index index.php index.html;\n\n    location / {\n        try_files $uri /index.php?$args;\n    }\n\n    location ~ \\.php$ {\n        #fastcgi_keep_conn on;\n        fastcgi_pass   allworker;\n        fastcgi_index  index.php;\n        fastcgi_param  SCRIPT_FILENAME $document_root$fastcgi_script_name;\n        include        fastcgi_params;\n    }\n}"},"immutable":null,"metadata":[{"annotations":null,"generate_name":null,"labels":{"name":"nginx-config"},"name":"nginx-config","namespace":"dev"}]},"after_unknown":{"data":{},"id":true,"metadata":[{"generation":true,"labels":{},"resource_version":true,"uid":true}]},"before_sensitive":false,"after_sensitive":{"data":{},"metadata":[{"labels":{}}]}}},{"address":"kubernetes_deployment.laravel","mode":"managed","type":"kubernetes_deployment","name":"laravel","provider_name":"registry.terraform.io/hashicorp/kubernetes","change":{"actions":["create"],"before":null,"after":{"metadata":[{"annotations":null,"generate_name":null,"labels":null,"name":"laravel","namespace":"dev"}],"spec":[{"min_ready_seconds":0,"paused":false,"progress_deadline_seconds":600,"replicas":"1","revision_history_limit":10,"selector":[{"match_expressions":[],"match_labels":{"app":"laravel"}}],"template":[{"metadata":[{"annotations":null,"generate_name":null,"labels":{"app":"laravel"},"namespace":null}],"spec":[{"active_deadline_seconds":null,"affinity":[],"automount_service_account_token":true,"container":[{"args":null,"command":null,"env":[{"name":"APP_ENV","value":"production","value_from":[]},{"name":"DB_CONNECTION","value":"mysql","value_from":[]},{"name":"DB_HOST","value":"mysql-service","value_from":[]},{"name":"DB_PORT","value":"3306","value_from":[]},{"name":"DB_DATABASE","value":"dev_db","value_from":[]},{"name":"DB_USERNAME","value":"user1","value_from":[]},{"name":"DB_PASSWORD","value":"devdev1234","value_from":[]},{"name":"MINIO_ENDPOINT","value":"http://minio-service:9000","value_from":[]},{"name":"MINIO_ACCESS_KEY","value":"my_minio_access_key_dev","value_from":[]},{"name":"MINIO_SECRET_KEY","value":"my_minio_secret_key_dev","value_from":[]}],"env_from":[],"image":"lerufic/laravel:latest","lifecycle":[],"liveness_probe":[],"name":"laravel","port":[{"container_port":9000,"host_ip":null,"host_port":null,"name":"port1","protocol":"TCP"}],"readiness_probe":[],"security_context":[],"startup_probe":[],"stdin":false,"stdin_once":false,"termination_message_path":"/dev/termination-log","tty":false,"volume_mount":[],"working_dir":null}],"dns_config":[],"dns_policy":"ClusterFirst","enable_service_links":true,"host_aliases":[],"host_ipc":false,"host_network":false,"host_pid":false,"init_container":[],"node_selector":null,"os":[],"priority_class_name":null,"restart_policy":"Always","runtime_class_name":null,"security_context":[],"share_process_namespace":false,"subdomain":null,"termination_grace_period_seconds":30,"toleration":[],"topology_spread_constraint":[],"volume":[]}]}]}],"timeouts":null,"wait_for_rollout":true},"after_unknown":{"id":true,"metadata":[{"generation":true,"resource_version":true,"uid":true}],"spec":[{"selector":[{"match_expressions":[],"match_labels":{}}],"strategy":true,"template":[{"metadata":[{"generation":true,"labels":{},"name":true,"resource_version":true,"uid":true}],"spec":[{"affinity":[],"container":[{"env":[{"value_from":[]},{"value_from":[]},{"value_from":[]},{"value_from":[]},{"value_from":[]},{"value_from":[]},{"value_from":[]},{"value_from":[]},{"value_from":[]},{"value_from":[]}],"env_from":[],"image_pull_policy":true,"lifecycle":[],"liveness_probe":[],"port":[{}],"readiness_probe":[],"resources":true,"security_context":[],"startup_probe":[],"termination_message_policy":true,"volume_mount":[]}],"dns_config":[],"host_aliases":[],"hostname":true,"image_pull_secrets":true,"init_container":[],"node_name":true,"os":[],"readiness_gate":true,"scheduler_name":true,"security_context":[],"service_account_name":true,"toleration":[],"topology_spread_constraint":[],"volume":[]}]}]}]},"before_sensitive":false,"after_sensitive":{"metadata":[{}],"spec":[{"selector":[{"match_expressions":[],"match_labels":{}}],"strategy":[],"template":[{"metadata":[{"labels":{}}],"spec":[{"affinity":[],"container":[{"env":[{"value_from":[]},{"value_from":[]},{"value_from":[]},{"value_from":[]},{"value_from":[]},{"value_from":[]},{"value_from":[]},{"value_from":[]},{"value_from":[]},{"value_from":[]}],"env_from":[],"lifecycle":[],"liveness_probe":[],"port":[{}],"readiness_probe":[],"resources":[],"security_context":[],"startup_probe":[],"volume_mount":[]}],"dns_config":[],"host_aliases":[],"image_pull_secrets":[],"init_container":[],"os":[],"readiness_gate":[],"security_context":[],"toleration":[],"topology_spread_constraint":[],"volume":[]}]}]}]}}},{"address":"kubernetes_deployment.minio","mode":"managed","type":"kubernetes_deployment","name":"minio","provider_name":"registry.terraform.io/hashicorp/kubernetes","change":{"actions":["create"],"before":null,"after":{"metadata":[{"annotations":null,"generate_name":null,"labels":null,"name":"minio","namespace":"dev"}],"spec":[{"min_ready_seconds":0,"paused":false,"progress_deadline_seconds":600,"replicas":"1","revision_history_limit":10,"selector":[{"match_expressions":[],"match_labels":{"app":"minio"}}],"template":[{"metadata":[{"annotations":null,"generate_name":null,"labels":{"app":"minio"},"namespace":null}],"spec":[{"active_deadline_seconds":null,"affinity":[],"automount_service_account_token":true,"container":[{"args":["server","/data"],"command":null,"env":[{"name":"MINIO_ACCESS_KEY","value":"var.minio_access_key","value_from":[]},{"name":"MINIO_SECRET_KEY","value":"var.minio_secret_key","value_from":[]},{"name":"MINIO_ROOT_USER","value":"var.minio_user","value_from":[]},{"name":"MINIO_ROOT_PASSWORD","value":"var.minio_user_password","value_from":[]}],"env_from":[],"image":"minio/minio:latest","lifecycle":[],"liveness_probe":[],"name":"minio","port":[{"container_port":9000,"host_ip":null,"host_port":null,"name":null,"protocol":"TCP"}],"readiness_probe":[],"security_context":[],"startup_probe":[],"stdin":false,"stdin_once":false,"termination_message_path":"/dev/termination-log","tty":false,"volume_mount":[{"mount_path":"/data","mount_propagation":"None","name":"minio-data","read_only":false,"sub_path":null}],"working_dir":null}],"dns_config":[],"dns_policy":"ClusterFirst","enable_service_links":true,"host_aliases":[],"host_ipc":false,"host_network":false,"host_pid":false,"init_container":[],"node_selector":null,"os":[],"priority_class_name":null,"restart_policy":"Always","runtime_class_name":null,"security_context":[],"share_process_namespace":false,"subdomain":null,"termination_grace_period_seconds":30,"toleration":[],"topology_spread_constraint":[],"volume":[{"aws_elastic_block_store":[],"azure_disk":[],"azure_file":[],"ceph_fs":[],"cinder":[],"config_map":[],"csi":[],"downward_api":[],"empty_dir":[],"ephemeral":[],"fc":[],"flex_volume":[],"flocker":[],"gce_persistent_disk":[],"git_repo":[],"glusterfs":[],"host_path":[],"iscsi":[],"local":[],"name":"minio-data","nfs":[],"persistent_volume_claim":[{"claim_name":"minio-pvc","read_only":false}],"photon_persistent_disk":[],"projected":[],"quobyte":[],"rbd":[],"secret":[],"vsphere_volume":[]}]}]}]}],"timeouts":null,"wait_for_rollout":true},"after_unknown":{"id":true,"metadata":[{"generation":true,"resource_version":true,"uid":true}],"spec":[{"selector":[{"match_expressions":[],"match_labels":{}}],"strategy":true,"template":[{"metadata":[{"generation":true,"labels":{},"name":true,"resource_version":true,"uid":true}],"spec":[{"affinity":[],"container":[{"args":[false,false],"env":[{"value_from":[]},{"value_from":[]},{"value_from":[]},{"value_from":[]}],"env_from":[],"image_pull_policy":true,"lifecycle":[],"liveness_probe":[],"port":[{}],"readiness_probe":[],"resources":true,"security_context":[],"startup_probe":[],"termination_message_policy":true,"volume_mount":[{}]}],"dns_config":[],"host_aliases":[],"hostname":true,"image_pull_secrets":true,"init_container":[],"node_name":true,"os":[],"readiness_gate":true,"scheduler_name":true,"security_context":[],"service_account_name":true,"toleration":[],"topology_spread_constraint":[],"volume":[{"aws_elastic_block_store":[],"azure_disk":[],"azure_file":[],"ceph_fs":[],"cinder":[],"config_map":[],"csi":[],"downward_api":[],"empty_dir":[],"ephemeral":[],"fc":[],"flex_volume":[],"flocker":[],"gce_persistent_disk":[],"git_repo":[],"glusterfs":[],"host_path":[],"iscsi":[],"local":[],"nfs":[],"persistent_volume_claim":[{}],"photon_persistent_disk":[],"projected":[],"quobyte":[],"rbd":[],"secret":[],"vsphere_volume":[]}]}]}]}]},"before_sensitive":false,"after_sensitive":{"metadata":[{}],"spec":[{"selector":[{"match_expressions":[],"match_labels":{}}],"strategy":[],"template":[{"metadata":[{"labels":{}}],"spec":[{"affinity":[],"container":[{"args":[false,false],"env":[{"value_from":[]},{"value_from":[]},{"value_from":[]},{"value_from":[]}],"env_from":[],"lifecycle":[],"liveness_probe":[],"port":[{}],"readiness_probe":[],"resources":[],"security_context":[],"startup_probe":[],"volume_mount":[{}]}],"dns_config":[],"host_aliases":[],"image_pull_secrets":[],"init_container":[],"os":[],"readiness_gate":[],"security_context":[],"toleration":[],"topology_spread_constraint":[],"volume":[{"aws_elastic_block_store":[],"azure_disk":[],"azure_file":[],"ceph_fs":[],"cinder":[],"config_map":[],"csi":[],"downward_api":[],"empty_dir":[],"ephemeral":[],"fc":[],"flex_volume":[],"flocker":[],"gce_persistent_disk":[],"git_repo":[],"glusterfs":[],"host_path":[],"iscsi":[],"local":[],"nfs":[],"persistent_volume_claim":[{}],"photon_persistent_disk":[],"projected":[],"quobyte":[],"rbd":[],"secret":[],"vsphere_volume":[]}]}]}]}]}}},{"address":"kubernetes_deployment.mysql","mode":"managed","type":"kubernetes_deployment","name":"mysql","provider_name":"registry.terraform.io/hashicorp/kubernetes","change":{"actions":["create"],"before":null,"after":{"metadata":[{"annotations":null,"generate_name":null,"labels":null,"name":"mysql","namespace":"dev"}],"spec":[{"min_ready_seconds":0,"paused":false,"progress_deadline_seconds":600,"replicas":"1","revision_history_limit":10,"selector":[{"match_expressions":[],"match_labels":{"app":"mysql"}}],"template":[{"metadata":[{"annotations":null,"generate_name":null,"labels":{"app":"mysql"},"namespace":null}],"spec":[{"active_deadline_seconds":null,"affinity":[],"automount_service_account_token":true,"container":[{"args":null,"command":null,"env":[{"name":"MYSQL_ROOT_PASSWORD","value":"devdev1234","value_from":[]},{"name":"MYSQL_DATABASE","value":"dev_db","value_from":[]},{"name":"DB_USERNAME","value":"user1","value_from":[]},{"name":"DB_PASSWORD","value":"devdev1234","value_from":[]}],"env_from":[],"image":"mysql:latest","lifecycle":[],"liveness_probe":[],"name":"mysql","port":[{"container_port":3306,"host_ip":null,"host_port":null,"name":null,"protocol":"TCP"}],"readiness_probe":[],"security_context":[],"startup_probe":[],"stdin":false,"stdin_once":false,"termination_message_path":"/dev/termination-log","tty":false,"volume_mount":[{"mount_path":"/var/lib/mysql","mount_propagation":"None","name":"mysql-data","read_only":false,"sub_path":null}],"working_dir":null}],"dns_config":[],"dns_policy":"ClusterFirst","enable_service_links":true,"host_aliases":[],"host_ipc":false,"host_network":false,"host_pid":false,"init_container":[],"node_selector":null,"os":[],"priority_class_name":null,"restart_policy":"Always","runtime_class_name":null,"security_context":[],"share_process_namespace":false,"subdomain":null,"termination_grace_period_seconds":30,"toleration":[],"topology_spread_constraint":[],"volume":[{"aws_elastic_block_store":[],"azure_disk":[],"azure_file":[],"ceph_fs":[],"cinder":[],"config_map":[],"csi":[],"downward_api":[],"empty_dir":[],"ephemeral":[],"fc":[],"flex_volume":[],"flocker":[],"gce_persistent_disk":[],"git_repo":[],"glusterfs":[],"host_path":[],"iscsi":[],"local":[],"name":"mysql-data","nfs":[],"persistent_volume_claim":[{"claim_name":"mysql-pvc","read_only":false}],"photon_persistent_disk":[],"projected":[],"quobyte":[],"rbd":[],"secret":[],"vsphere_volume":[]}]}]}]}],"timeouts":null,"wait_for_rollout":true},"after_unknown":{"id":true,"metadata":[{"generation":true,"resource_version":true,"uid":true}],"spec":[{"selector":[{"match_expressions":[],"match_labels":{}}],"strategy":true,"template":[{"metadata":[{"generation":true,"labels":{},"name":true,"resource_version":true,"uid":true}],"spec":[{"affinity":[],"container":[{"env":[{"value_from":[]},{"value_from":[]},{"value_from":[]},{"value_from":[]}],"env_from":[],"image_pull_policy":true,"lifecycle":[],"liveness_probe":[],"port":[{}],"readiness_probe":[],"resources":true,"security_context":[],"startup_probe":[],"termination_message_policy":true,"volume_mount":[{}]}],"dns_config":[],"host_aliases":[],"hostname":true,"image_pull_secrets":true,"init_container":[],"node_name":true,"os":[],"readiness_gate":true,"scheduler_name":true,"security_context":[],"service_account_name":true,"toleration":[],"topology_spread_constraint":[],"volume":[{"aws_elastic_block_store":[],"azure_disk":[],"azure_file":[],"ceph_fs":[],"cinder":[],"config_map":[],"csi":[],"downward_api":[],"empty_dir":[],"ephemeral":[],"fc":[],"flex_volume":[],"flocker":[],"gce_persistent_disk":[],"git_repo":[],"glusterfs":[],"host_path":[],"iscsi":[],"local":[],"nfs":[],"persistent_volume_claim":[{}],"photon_persistent_disk":[],"projected":[],"quobyte":[],"rbd":[],"secret":[],"vsphere_volume":[]}]}]}]}]},"before_sensitive":false,"after_sensitive":{"metadata":[{}],"spec":[{"selector":[{"match_expressions":[],"match_labels":{}}],"strategy":[],"template":[{"metadata":[{"labels":{}}],"spec":[{"affinity":[],"container":[{"env":[{"value_from":[]},{"value_from":[]},{"value_from":[]},{"value_from":[]}],"env_from":[],"lifecycle":[],"liveness_probe":[],"port":[{}],"readiness_probe":[],"resources":[],"security_context":[],"startup_probe":[],"volume_mount":[{}]}],"dns_config":[],"host_aliases":[],"image_pull_secrets":[],"init_container":[],"os":[],"readiness_gate":[],"security_context":[],"toleration":[],"topology_spread_constraint":[],"volume":[{"aws_elastic_block_store":[],"azure_disk":[],"azure_file":[],"ceph_fs":[],"cinder":[],"config_map":[],"csi":[],"downward_api":[],"empty_dir":[],"ephemeral":[],"fc":[],"flex_volume":[],"flocker":[],"gce_persistent_disk":[],"git_repo":[],"glusterfs":[],"host_path":[],"iscsi":[],"local":[],"nfs":[],"persistent_volume_claim":[{}],"photon_persistent_disk":[],"projected":[],"quobyte":[],"rbd":[],"secret":[],"vsphere_volume":[]}]}]}]}]}}},{"address":"kubernetes_deployment.nginx","mode":"managed","type":"kubernetes_deployment","name":"nginx","provider_name":"registry.terraform.io/hashicorp/kubernetes","change":{"actions":["create"],"before":null,"after":{"metadata":[{"annotations":null,"generate_name":null,"labels":null,"name":"nginx","namespace":"dev"}],"spec":[{"min_ready_seconds":0,"paused":false,"progress_deadline_seconds":600,"replicas":"1","revision_history_limit":10,"selector":[{"match_expressions":[],"match_labels":{"app":"nginx"}}],"template":[{"metadata":[{"annotations":null,"generate_name":null,"labels":{"app":"nginx"},"namespace":null}],"spec":[{"active_deadline_seconds":null,"affinity":[],"automount_service_account_token":true,"container":[{"args":null,"command":null,"env":[],"env_from":[],"image":"nginx:latest","lifecycle":[],"liveness_probe":[],"name":"nginx","port":[{"container_port":80,"host_ip":null,"host_port":null,"name":null,"protocol":"TCP"}],"readiness_probe":[],"security_context":[],"startup_probe":[],"stdin":false,"stdin_once":false,"termination_message_path":"/dev/termination-log","tty":false,"volume_mount":[],"working_dir":null}],"dns_config":[],"dns_policy":"ClusterFirst","enable_service_links":true,"host_aliases":[],"host_ipc":false,"host_network":false,"host_pid":false,"init_container":[],"node_selector":null,"os":[],"priority_class_name":null,"restart_policy":"Always","runtime_class_name":null,"security_context":[],"share_process_namespace":false,"subdomain":null,"termination_grace_period_seconds":30,"toleration":[],"topology_spread_constraint":[],"volume":[{"aws_elastic_block_store":[],"azure_disk":[],"azure_file":[],"ceph_fs":[],"cinder":[],"config_map":[{"default_mode":"0644","items":[],"name":"nginx-config","optional":null}],"csi":[],"downward_api":[],"empty_dir":[],"ephemeral":[],"fc":[],"flex_volume":[],"flocker":[],"gce_persistent_disk":[],"git_repo":[],"glusterfs":[],"host_path":[],"iscsi":[],"local":[],"name":"nginx-volume","nfs":[],"persistent_volume_claim":[],"photon_persistent_disk":[],"projected":[],"quobyte":[],"rbd":[],"secret":[],"vsphere_volume":[]}]}]}]}],"timeouts":null,"wait_for_rollout":true},"after_unknown":{"id":true,"metadata":[{"generation":true,"resource_version":true,"uid":true}],"spec":[{"selector":[{"match_expressions":[],"match_labels":{}}],"strategy":true,"template":[{"metadata":[{"generation":true,"labels":{},"name":true,"resource_version":true,"uid":true}],"spec":[{"affinity":[],"container":[{"env":[],"env_from":[],"image_pull_policy":true,"lifecycle":[],"liveness_probe":[],"port":[{}],"readiness_probe":[],"resources":true,"security_context":[],"startup_probe":[],"termination_message_policy":true,"volume_mount":[]}],"dns_config":[],"host_aliases":[],"hostname":true,"image_pull_secrets":true,"init_container":[],"node_name":true,"os":[],"readiness_gate":true,"scheduler_name":true,"security_context":[],"service_account_name":true,"toleration":[],"topology_spread_constraint":[],"volume":[{"aws_elastic_block_store":[],"azure_disk":[],"azure_file":[],"ceph_fs":[],"cinder":[],"config_map":[{"items":[]}],"csi":[],"downward_api":[],"empty_dir":[],"ephemeral":[],"fc":[],"flex_volume":[],"flocker":[],"gce_persistent_disk":[],"git_repo":[],"glusterfs":[],"host_path":[],"iscsi":[],"local":[],"nfs":[],"persistent_volume_claim":[],"photon_persistent_disk":[],"projected":[],"quobyte":[],"rbd":[],"secret":[],"vsphere_volume":[]}]}]}]}]},"before_sensitive":false,"after_sensitive":{"metadata":[{}],"spec":[{"selector":[{"match_expressions":[],"match_labels":{}}],"strategy":[],"template":[{"metadata":[{"labels":{}}],"spec":[{"affinity":[],"container":[{"env":[],"env_from":[],"lifecycle":[],"liveness_probe":[],"port":[{}],"readiness_probe":[],"resources":[],"security_context":[],"startup_probe":[],"volume_mount":[]}],"dns_config":[],"host_aliases":[],"image_pull_secrets":[],"init_container":[],"os":[],"readiness_gate":[],"security_context":[],"toleration":[],"topology_spread_constraint":[],"volume":[{"aws_elastic_block_store":[],"azure_disk":[],"azure_file":[],"ceph_fs":[],"cinder":[],"config_map":[{"items":[]}],"csi":[],"downward_api":[],"empty_dir":[],"ephemeral":[],"fc":[],"flex_volume":[],"flocker":[],"gce_persistent_disk":[],"git_repo":[],"glusterfs":[],"host_path":[],"iscsi":[],"local":[],"nfs":[],"persistent_volume_claim":[],"photon_persistent_disk":[],"projected":[],"quobyte":[],"rbd":[],"secret":[],"vsphere_volume":[]}]}]}]}]}}},{"address":"kubernetes_namespace.namespace","mode":"managed","type":"kubernetes_namespace","name":"namespace","provider_name":"registry.terraform.io/hashicorp/kubernetes","change":{"actions":["create"],"before":null,"after":{"metadata":[{"annotations":null,"generate_name":null,"labels":null,"name":"dev"}],"timeouts":null,"wait_for_default_service_account":false},"after_unknown":{"id":true,"metadata":[{"generation":true,"resource_version":true,"uid":true}]},"before_sensitive":false,"after_sensitive":{"metadata":[{}]}}},{"address":"kubernetes_persistent_volume_claim.minio_data","mode":"managed","type":"kubernetes_persistent_volume_claim","name":"minio_data","provider_name":"registry.terraform.io/hashicorp/kubernetes","change":{"actions":["create"],"before":null,"after":{"metadata":[{"annotations":null,"generate_name":null,"labels":null,"name":"minio-pvc","namespace":"dev"}],"spec":[{"access_modes":["ReadWriteMany"],"resources":[{"limits":null,"requests":{"storage":"1Gi"}}],"selector":[]}],"timeouts":null,"wait_until_bound":true},"after_unknown":{"id":true,"metadata":[{"generation":true,"resource_version":true,"uid":true}],"spec":[{"access_modes":[false],"resources":[{"requests":{}}],"selector":[],"storage_class_name":true,"volume_mode":true,"volume_name":true}]},"before_sensitive":false,"after_sensitive":{"metadata":[{}],"spec":[{"access_modes":[false],"resources":[{"requests":{}}],"selector":[]}]}}},{"address":"kubernetes_persistent_volume_claim.mysql_data","mode":"managed","type":"kubernetes_persistent_volume_claim","name":"mysql_data","provider_name":"registry.terraform.io/hashicorp/kubernetes","change":{"actions":["create"],"before":null,"after":{"metadata":[{"annotations":null,"generate_name":null,"labels":null,"name":"mysql-pvc","namespace":"dev"}],"spec":[{"access_modes":["ReadWriteMany"],"resources":[{"limits":null,"requests":{"storage":"1Gi"}}],"selector":[]}],"timeouts":null,"wait_until_bound":true},"after_unknown":{"id":true,"metadata":[{"generation":true,"resource_version":true,"uid":true}],"spec":[{"access_modes":[false],"resources":[{"requests":{}}],"selector":[],"storage_class_name":true,"volume_mode":true,"volume_name":true}]},"before_sensitive":false,"after_sensitive":{"metadata":[{}],"spec":[{"access_modes":[false],"resources":[{"requests":{}}],"selector":[]}]}}},{"address":"kubernetes_service.mysql","mode":"managed","type":"kubernetes_service","name":"mysql","provider_name":"registry.terraform.io/hashicorp/kubernetes","change":{"actions":["create"],"before":null,"after":{"metadata":[{"annotations":null,"generate_name":null,"labels":null,"name":"mysql-service","namespace":"dev"}],"spec":[{"allocate_load_balancer_node_ports":true,"external_ips":null,"external_name":null,"load_balancer_class":null,"load_balancer_ip":null,"load_balancer_source_ranges":null,"port":[{"app_protocol":null,"name":null,"port":3306,"protocol":"TCP","target_port":"3306"}],"publish_not_ready_addresses":false,"selector":{"app":"mysql"},"session_affinity":"None","type":"ClusterIP"}],"timeouts":null,"wait_for_load_balancer":true},"after_unknown":{"id":true,"metadata":[{"generation":true,"resource_version":true,"uid":true}],"spec":[{"cluster_ip":true,"cluster_ips":true,"external_traffic_policy":true,"health_check_node_port":true,"internal_traffic_policy":true,"ip_families":true,"ip_family_policy":true,"port":[{"node_port":true}],"selector":{},"session_affinity_config":true}],"status":true},"before_sensitive":false,"after_sensitive":{"metadata":[{}],"spec":[{"cluster_ips":[],"ip_families":[],"port":[{}],"selector":{},"session_affinity_config":[]}],"status":[]}}},{"address":"kubernetes_service.nginx","mode":"managed","type":"kubernetes_service","name":"nginx","provider_name":"registry.terraform.io/hashicorp/kubernetes","change":{"actions":["create"],"before":null,"after":{"metadata":[{"annotations":null,"generate_name":null,"labels":{"app":"nginx"},"name":"nginx","namespace":"dev"}],"spec":[{"allocate_load_balancer_node_ports":true,"external_ips":null,"external_name":null,"load_balancer_class":null,"load_balancer_ip":null,"load_balancer_source_ranges":null,"port":[{"app_protocol":null,"name":"httpport","node_port":30080,"port":80,"protocol":"TCP"},{"app_protocol":null,"name":"httpsport","node_port":30443,"port":443,"protocol":"TCP"}],"publish_not_ready_addresses":false,"selector":{"app":"nginx"},"session_affinity":"None","type":"NodePort"}],"timeouts":null,"wait_for_load_balancer":true},"after_unknown":{"id":true,"metadata":[{"generation":true,"labels":{},"resource_version":true,"uid":true}],"spec":[{"cluster_ip":true,"cluster_ips":true,"external_traffic_policy":true,"health_check_node_port":true,"internal_traffic_policy":true,"ip_families":true,"ip_family_policy":true,"port":[{"target_port":true},{"target_port":true}],"selector":{},"session_affinity_config":true}],"status":true},"before_sensitive":false,"after_sensitive":{"metadata":[{"labels":{}}],"spec":[{"cluster_ips":[],"ip_families":[],"port":[{},{}],"selector":{},"session_affinity_config":[]}],"status":[]}}},{"address":"kubernetes_service.php","mode":"managed","type":"kubernetes_service","name":"php","provider_name":"registry.terraform.io/hashicorp/kubernetes","change":{"actions":["create"],"before":null,"after":{"metadata":[{"annotations":null,"generate_name":null,"labels":{"app":"laravel"},"name":"laravel","namespace":"dev"}],"spec":[{"allocate_load_balancer_node_ports":true,"external_ips":null,"external_name":null,"load_balancer_class":null,"load_balancer_ip":null,"load_balancer_source_ranges":null,"port":[{"app_protocol":null,"name":"phpfpm","port":9000,"protocol":"TCP"}],"publish_not_ready_addresses":false,"selector":{"app":"laravel"},"session_affinity":"None","type":"ClusterIP"}],"timeouts":null,"wait_for_load_balancer":true},"after_unknown":{"id":true,"metadata":[{"generation":true,"labels":{},"resource_version":true,"uid":true}],"spec":[{"cluster_ip":true,"cluster_ips":true,"external_traffic_policy":true,"health_check_node_port":true,"internal_traffic_policy":true,"ip_families":true,"ip_family_policy":true,"port":[{"node_port":true,"target_port":true}],"selector":{},"session_affinity_config":true}],"status":true},"before_sensitive":false,"after_sensitive":{"metadata":[{"labels":{}}],"spec":[{"cluster_ips":[],"ip_families":[],"port":[{}],"selector":{},"session_affinity_config":[]}],"status":[]}}}],"configuration":{"provider_config":{"helm":{"name":"helm","full_name":"registry.terraform.io/hashicorp/helm","expressions":{"kubernetes":[{"config_path":{"constant_value":"~/.kube/config"}}]}},"kubernetes":{"name":"kubernetes","full_name":"registry.terraform.io/hashicorp/kubernetes","version_constraint":"2.29.0","expressions":{"config_context_cluster":{"constant_value":"minikube"},"config_path":{"constant_value":"~/.kube/config"}}}},"root_module":{"resources":[{"address":"kubernetes_config_map.nginx_config","mode":"managed","type":"kubernetes_config_map","name":"nginx_config","provider_config_key":"kubernetes","expressions":{"data":{"constant_value":{"default.conf":"# nginx configuration\n\nupstream allworker {\n    server php:9000;\n}\n\nserver {\n\n    listen 80 default_server;\n    listen [::]:80 default_server;\n\n    server_name localhost;\n\n    root /var/www/public;\n    index index.php index.html;\n\n    location / {\n        try_files $uri /index.php?$args;\n    }\n\n    location ~ \\.php$ {\n        #fastcgi_keep_conn on;\n        fastcgi_pass   allworker;\n        fastcgi_index  index.php;\n        fastcgi_param  SCRIPT_FILENAME $document_root$fastcgi_script_name;\n        include        fastcgi_params;\n    }\n}"}},"metadata":[{"labels":{"constant_value":{"name":"nginx-config"}},"name":{"constant_value":"nginx-config"},"namespace":{"references":["var.namespace_name"]}}]},"schema_version":0},{"address":"kubernetes_deployment.laravel","mode":"managed","type":"kubernetes_deployment","name":"laravel","provider_config_key":"kubernetes","expressions":{"metadata":[{"name":{"constant_value":"laravel"},"namespace":{"references":["var.namespace_name"]}}],"spec":[{"replicas":{"references":["var.laravel_replicas"]},"selector":[{"match_labels":{"constant_value":{"app":"laravel"}}}],"template":[{"metadata":[{"labels":{"constant_value":{"app":"laravel"}}}],"spec":[{"container":[{"env":[{"name":{"constant_value":"APP_ENV"},"value":{"constant_value":"production"}},{"name":{"constant_value":"DB_CONNECTION"},"value":{"constant_value":"mysql"}},{"name":{"constant_value":"DB_HOST"},"value":{"constant_value":"mysql-service"}},{"name":{"constant_value":"DB_PORT"},"value":{"constant_value":"3306"}},{"name":{"constant_value":"DB_DATABASE"},"value":{"references":["var.mysql_db_name"]}},{"name":{"constant_value":"DB_USERNAME"},"value":{"references":["var.mysql_username"]}},{"name":{"constant_value":"DB_PASSWORD"},"value":{"references":["var.mysql_root_password"]}},{"name":{"constant_value":"MINIO_ENDPOINT"},"value":{"constant_value":"http://minio-service:9000"}},{"name":{"constant_value":"MINIO_ACCESS_KEY"},"value":{"references":["var.minio_access_key"]}},{"name":{"constant_value":"MINIO_SECRET_KEY"},"value":{"references":["var.minio_secret_key"]}}],"image":{"constant_value":"lerufic/laravel:latest"},"name":{"constant_value":"laravel"},"port":[{"container_port":{"constant_value":9000},"name":{"constant_value":"port1"},"protocol":{"constant_value":"TCP"}}]}]}]}]}]},"schema_version":1},{"address":"kubernetes_deployment.minio","mode":"managed","type":"kubernetes_deployment","name":"minio","provider_config_key":"kubernetes","expressions":{"metadata":[{"name":{"constant_value":"minio"},"namespace":{"references":["var.namespace_name"]}}],"spec":[{"replicas":{"constant_value":1},"selector":[{"match_labels":{"constant_value":{"app":"minio"}}}],"template":[{"metadata":[{"labels":{"constant_value":{"app":"minio"}}}],"spec":[{"container":[{"args":{"constant_value":["server","/data"]},"env":[{"name":{"constant_value":"MINIO_ACCESS_KEY"},"value":{"constant_value":"var.minio_access_key"}},{"name":{"constant_value":"MINIO_SECRET_KEY"},"value":{"constant_value":"var.minio_secret_key"}},{"name":{"constant_value":"MINIO_ROOT_USER"},"value":{"constant_value":"var.minio_user"}},{"name":{"constant_value":"MINIO_ROOT_PASSWORD"},"value":{"constant_value":"var.minio_user_password"}}],"image":{"constant_value":"minio/minio:latest"},"name":{"constant_value":"minio"},"port":[{"container_port":{"constant_value":9000}}],"volume_mount":[{"mount_path":{"constant_value":"/data"},"name":{"constant_value":"minio-data"}}]}],"volume":[{"name":{"constant_value":"minio-data"},"persistent_volume_claim":[{"claim_name":{"references":["kubernetes_persistent_volume_claim.minio_data.metadata[0].name","kubernetes_persistent_volume_claim.minio_data.metadata[0]","kubernetes_persistent_volume_claim.minio_data.metadata","kubernetes_persistent_volume_claim.minio_data"]}}]}]}]}]}]},"schema_version":1},{"address":"kubernetes_deployment.mysql","mode":"managed","type":"kubernetes_deployment","name":"mysql","provider_config_key":"kubernetes","expressions":{"metadata":[{"name":{"constant_value":"mysql"},"namespace":{"references":["var.namespace_name"]}}],"spec":[{"replicas":{"constant_value":1},"selector":[{"match_labels":{"constant_value":{"app":"mysql"}}}],"template":[{"metadata":[{"labels":{"constant_value":{"app":"mysql"}}}],"spec":[{"container":[{"env":[{"name":{"constant_value":"MYSQL_ROOT_PASSWORD"},"value":{"references":["var.mysql_root_password"]}},{"name":{"constant_value":"MYSQL_DATABASE"},"value":{"references":["var.mysql_db_name"]}},{"name":{"constant_value":"DB_USERNAME"},"value":{"references":["var.mysql_username"]}},{"name":{"constant_value":"DB_PASSWORD"},"value":{"references":["var.mysql_root_password"]}}],"image":{"constant_value":"mysql:latest"},"name":{"constant_value":"mysql"},"port":[{"container_port":{"constant_value":3306}}],"volume_mount":[{"mount_path":{"constant_value":"/var/lib/mysql"},"name":{"constant_value":"mysql-data"}}]}],"volume":[{"name":{"constant_value":"mysql-data"},"persistent_volume_claim":[{"claim_name":{"references":["kubernetes_persistent_volume_claim.mysql_data.metadata[0].name","kubernetes_persistent_volume_claim.mysql_data.metadata[0]","kubernetes_persistent_volume_claim.mysql_data.metadata","kubernetes_persistent_volume_claim.mysql_data"]}}]}]}]}]}]},"schema_version":1},{"address":"kubernetes_deployment.nginx","mode":"managed","type":"kubernetes_deployment","name":"nginx","provider_config_key":"kubernetes","expressions":{"metadata":[{"name":{"constant_value":"nginx"},"namespace":{"references":["var.namespace_name"]}}],"spec":[{"replicas":{"constant_value":1},"selector":[{"match_labels":{"constant_value":{"app":"nginx"}}}],"template":[{"metadata":[{"labels":{"constant_value":{"app":"nginx"}}}],"spec":[{"container":[{"image":{"constant_value":"nginx:latest"},"name":{"constant_value":"nginx"},"port":[{"container_port":{"constant_value":80}}]}],"volume":[{"config_map":[{"name":{"constant_value":"nginx-config"}}],"name":{"constant_value":"nginx-volume"}}]}]}]}]},"schema_version":1},{"address":"kubernetes_namespace.namespace","mode":"managed","type":"kubernetes_namespace","name":"namespace","provider_config_key":"kubernetes","expressions":{"metadata":[{"name":{"references":["var.namespace_name"]}}]},"schema_version":0},{"address":"kubernetes_persistent_volume_claim.minio_data","mode":"managed","type":"kubernetes_persistent_volume_claim","name":"minio_data","provider_config_key":"kubernetes","expressions":{"metadata":[{"name":{"constant_value":"minio-pvc"},"namespace":{"references":["var.namespace_name"]}}],"spec":[{"access_modes":{"constant_value":["ReadWriteMany"]},"resources":[{"requests":{"constant_value":{"storage":"1Gi"}}}]}]},"schema_version":0},{"address":"kubernetes_persistent_volume_claim.mysql_data","mode":"managed","type":"kubernetes_persistent_volume_claim","name":"mysql_data","provider_config_key":"kubernetes","expressions":{"metadata":[{"name":{"constant_value":"mysql-pvc"},"namespace":{"references":["var.namespace_name"]}}],"spec":[{"access_modes":{"constant_value":["ReadWriteMany"]},"resources":[{"requests":{"constant_value":{"storage":"1Gi"}}}]}]},"schema_version":0},{"address":"kubernetes_service.mysql","mode":"managed","type":"kubernetes_service","name":"mysql","provider_config_key":"kubernetes","expressions":{"metadata":[{"name":{"constant_value":"mysql-service"},"namespace":{"references":["var.namespace_name"]}}],"spec":[{"port":[{"port":{"constant_value":3306},"protocol":{"constant_value":"TCP"},"target_port":{"constant_value":3306}}],"selector":{"constant_value":{"app":"mysql"}}}]},"schema_version":1},{"address":"kubernetes_service.nginx","mode":"managed","type":"kubernetes_service","name":"nginx","provider_config_key":"kubernetes","expressions":{"metadata":[{"labels":{"constant_value":{"app":"nginx"}},"name":{"constant_value":"nginx"},"namespace":{"references":["var.namespace_name"]}}],"spec":[{"port":[{"name":{"constant_value":"httpport"},"node_port":{"references":["var.NodePort_httpport"]},"port":{"constant_value":80},"protocol":{"constant_value":"TCP"}},{"name":{"constant_value":"httpsport"},"node_port":{"references":["var.NodePort_httpsport"]},"port":{"constant_value":443},"protocol":{"constant_value":"TCP"}}],"selector":{"constant_value":{"app":"nginx"}},"type":{"constant_value":"NodePort"}}]},"schema_version":1},{"address":"kubernetes_service.php","mode":"managed","type":"kubernetes_service","name":"php","provider_config_key":"kubernetes","expressions":{"metadata":[{"labels":{"constant_value":{"app":"laravel"}},"name":{"constant_value":"laravel"},"namespace":{"references":["var.namespace_name"]}}],"spec":[{"port":[{"name":{"constant_value":"phpfpm"},"port":{"constant_value":9000},"protocol":{"constant_value":"TCP"}}],"selector":{"constant_value":{"app":"laravel"}}}]},"schema_version":1}],"variables":{"NodePort_httpport":{"default":"1","description":"httpport Nodeport"},"NodePort_httpsport":{"default":"1","description":"httpsport Nodeport"},"laravel_replicas":{"default":"1","description":"Replica amount for laravel containers"},"minio_access_key":{"default":"access_key","description":"The access key for MinIO."},"minio_secret_key":{"default":"secret_key","description":"The secret key for MinIO."},"minio_user":{"default":"default","description":"The user for MinIO."},"minio_user_password":{"default":"default","description":"The password for MinIO."},"mysql_db_name":{"default":"default","description":"The db name for MySQL."},"mysql_root_password":{"default":"root_password","description":"The root password for MySQL."},"mysql_username":{"default":"default","description":"The username for MySQL."},"mysql_username_password":{"default":"default","description":"The username password for MySQL."},"namespace_name":{"default":"dev","description":"The name of the Kubernetes namespace."}}}},"relevant_attributes":[{"resource":"kubernetes_persistent_volume_claim.mysql_data","attribute":["metadata",0,"name"]},{"resource":"kubernetes_persistent_volume_claim.minio_data","attribute":["metadata",0,"name"]}],"timestamp":"2024-04-29T09:05:03Z","applyable":true,"complete":true,"errored":false}
